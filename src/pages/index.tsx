import { Carousel } from '@mantine/carousel'
import { Center, Paper } from '@mantine/core'
import type { GetStaticProps, NextPage } from 'next'
import Head from 'next/head'
import { Vertical } from '../components/molecule/collection-vertical'
interface HomePageProps {
  popularCollections?: PopularCollection[]
}

type PopularCollection = {
  title: string
  collection: { title: string; desc: string; url: string; img: string }[]
}

export const getStaticProps: GetStaticProps = async () => {
  const popularCollections: PopularCollection[] = [
    {
      title: 'By type',
      collection: [
        {
          title: 'Back-end',
          desc: 'APIs, transformation etc.',
          url: 'collection/back-end',
          img:
            'https://images.unsplash.com/photo-1508193638397-1c4234db14d8?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80',
        },
        {
          title: 'Web',
          desc: 'by this i mean websites',
          url: 'collection/web',
          img:
            'https://images.unsplash.com/photo-1559494007-9f5847c49d94?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80',
        },
        {
          title: 'Data',
          desc: 'Data scraping and all its fun',
          url: 'collection/web',
          img:
            'https://images.unsplash.com/photo-1497034825429-c343d7c6a68f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=80',
        },
      ],
    },
  ]

  return {
    props: {
      popularCollections: popularCollections,
    },
  }
}

const Home: NextPage = (props: HomePageProps) => {
  const { popularCollections } = props
  return (
    <>
      <Head>
        <title>100 Projects</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
        <link rel="preconnect" href="https://fonts.gstatic.com" />
      </Head>
      <main>
        <h1>Popular Collections</h1>
        {popularCollections &&
          popularCollections.map((popularCollection) => (
            <>
              <h2>{popularCollection.title}</h2>
              <ul style={{ display: 'flex' }}>
                {popularCollection.collection.map((collection) => (
                  <Vertical
                    key={collection.title}
                    heroText={collection.title}
                    imgSrc={collection.img}
                    cta={{
                      text: 'click me!',
                      url: collection.url,
                      ordinal: 'primary',
                      filled: true,
                    }}
                  />
                ))}
              </ul>
            </>
          ))}
      </main>
    </>
  )
}

export default Home
