import Link from "next/link";
import { DarkModeSwitch } from "react-toggle-dark-mode";
import { SearchBox } from "../organism/search-box";
import { useTheme } from "next-themes";

export const Header = () => {
  const { systemTheme, theme, setTheme } = useTheme();
  const currentTheme = theme === "system" ? systemTheme : theme;
  return (
    <header role="navigation" className="pt-4" aria-label="Main">
      <section className="mx-auto max-w-screen-lg pt-2 pb-4">
        <section className="flex flex-row w-full justify-between content-center">
          <Link href="/" className="mt-auto">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              className="h-8 dark:fill-darkMode-text hover:dark:fill-darkMode-highlight fill-lightMode-text hover:fill-lightMode-highlight hover:cursor-pointer"
              viewBox="0 0 880 484"
            >
              <path d="M749 2c-26 3-48 11-69 25-11 7-32 28-43 42a541 541 0 0 0-83 193c-1 13 0 25 4 37 4 11 8 18 16 27 21 21 48 32 89 35a182 182 0 0 0 164-74c17-23 30-49 37-76 4-13 12-52 14-68 2-15 1-44-2-58-9-44-35-72-76-81-10-2-39-4-51-2zm9 85c13 2 24 9 29 20 8 16 7 43-3 80-19 75-54 111-106 111-23 0-39-7-47-19-5-8-6-15-6-28 1-16 6-32 17-61 27-68 55-97 97-103h19zM382 15c-26 3-49 12-65 27-25 23-39 57-45 110l-4 30c-2 18-1 50 2 62a98 98 0 0 0 73 75c52 13 93 1 130-36a244 244 0 0 0 68-149c0-15 0-19-2-27-6-22-15-38-31-53-23-23-52-35-89-39h-37zm55 74c9 4 15 7 21 12 20 19 22 52 5 94-13 32-32 56-53 65-20 8-48 4-61-10-15-14-17-35-6-83 9-45 19-65 38-74 10-6 17-7 34-7 12 1 15 1 22 3zM96 25 1 29l11 56 22-1 44-1 22-1 2 6a715 715 0 0 1 12 165l1 59 14-1 53-5c3 0 3 0 3-3l14-114c5-60-1-104-21-152l-5-13h-23l-54 1zm106 301h-11l-1 5v94l1 11h20v-6c-2-15-2-31-1-32h13l11 20c12 22 10 20 25 20l8-1-4-6-12-21-9-15 5-5c5-5 6-7 8-13 3-9 3-26 1-33-5-13-16-19-36-19l-18 1zm31 20c8 6 7 25-2 31-2 1-5 2-13 2h-10v-6l1-17v-11h4c8-1 17 0 20 1zm70-18c-11 2-23 12-28 23-5 10-6 17-6 31 1 11 1 14 4 21 10 26 29 42 50 42 16 0 26-9 31-29 2-6 2-10 2-24 0-20-1-28-8-41-8-18-26-27-45-23zm15 21c6 2 14 10 17 18 2 5 2 7 2 20 1 13 1 14-3 20-4 8-8 11-16 12-10 1-20-7-26-20-3-6-3-7-3-19s0-13 2-18c3-6 8-10 14-13h13zm-179-19-32 4h-4l1 14c1 37 3 80 5 86 0 2 0 2 10 2h10v-7l-2-16v-9h10c14-1 21-3 28-11 8-8 10-14 10-30 1-11 0-13-2-17-4-10-10-14-20-16h-14zm10 20c4 3 6 7 6 14s-1 10-5 14c-3 4-6 5-16 5l-8 1v-34h23zm227-6-1 10v3l13 1 16 3h3v10l2 23c3 27 3 27-1 30-4 4-9 4-15-2-4-4-6-7-7-14l-1-7-9-1-9-1v7c2 17 14 35 28 42 6 4 15 5 21 4 13-3 17-15 13-41-2-17-4-39-4-55l1-11-22-4-25-3c-3 0-3 0-3 6zm68 5a281 281 0 0 0 14 104l54 6c1-1-5-19-6-20l-18-3-18-2-5-21c0-5-1-5 18-2l14 1-1-9-1-9-16-3-17-2-1-11 1-10 17 2 16 3v-9l1-9-24-3a2017 2017 0 0 1-28-3zm89 13c-11 3-19 12-23 23-2 7-1 22 2 30 8 24 28 45 49 51 19 6 34 2 41-12 2-4 2-7 3-14v-10h-3l-11-2h-8v4c0 5-3 9-7 11-5 3-16 2-22-1-16-7-27-30-24-46 2-11 8-16 18-16 12 0 22 6 27 16l3 5 10 2h11l-2-5c-4-14-12-25-23-31s-30-9-41-5zm72 16 1 10 14 1 13 1v7a338 338 0 0 0 16 76l22 2-3-12c-6-20-10-44-11-62-1-8 0-8 1-8l16 1h13v-19l-19-1-58-5h-5v9zm120-3c-9 1-20 7-24 12-4 6-5 10-5 18 1 8 4 13 10 20 8 7 16 10 34 12 17 3 23 7 23 15 0 7-6 11-18 11s-21-5-24-12c-2-4-2-4-16-5l-9-1 1 4c4 12 14 22 26 28 21 10 43 9 55-3 7-6 9-10 9-22 0-9-1-10-3-14-7-11-20-17-42-21-17-2-21-5-21-13 0-3 0-5 2-7 4-3 10-4 17-4 9 1 14 5 15 12l1 3h26v-3c0-13-10-23-25-28-7-2-24-3-33-2z" />
            </svg>
          </Link>
          <SearchBox />
          <DarkModeSwitch
            className="ml-2"
            checked={currentTheme === "dark"}
            onChange={() =>
              setTheme(currentTheme === "dark" ? "light" : "dark")
            }
            size={35}
            moonColor={"#ffffff"}
            sunColor={"#000000"}
          />
        </section>
      </section>
    </header>
  );
};
